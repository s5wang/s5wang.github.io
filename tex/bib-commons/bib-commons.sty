% This is the default amsrefs styling file in Shuwei's
% personal system-wide bibliography database.

\ProvidesPackage{bib-commons}

\RequirePackage[nobysame]{amsrefs}

\ifx\BibCommonsStandalone\undefined
  \RequirePackage{currfile-abspath}
  \getabspath{bib-commons.sty}

  \def\localdir{./}
  \ifx\theabsdir\localdir
    % bibliography paths cannot start with "./"
    \def\bibcommonspath{}
  \else
    \def\bibcommonspath{\theabsdir}
  \fi
\fi

\BibSpec{unpublished}{ % online book
+{}  { \PrintPrimary}               {transition}
+{,} { \textit}                     {title}
+{.} { }                            {part}
+{:} { \textit}                     {subtitle}
+{,} { \PrintEdition}               {edition}
+{}  { \PrintEditorsB}              {editor}
+{,} { \PrintTranslatorsC}          {translator}
+{,} { \PrintContributions}         {contribution}
+{,} { }                            {series}
+{,} { \voltext}                    {volume}
+{,} { }                            {publisher}
+{,} { }                            {organization}
+{,} { }                            {address}
+{,} { \PrintDateB}                 {date}
+{,} { }                            {status}
+{}  { \parenthesize}               {language}
+{}  { \PrintTranslation}           {translation}
+{;} { \PrintReprint}               {reprint}
+{,} { \url}                        {url}
+{.} { Accessed \PrintDateField}    {accessdate}
+{.} { }                            {note}
+{.} {}                             {transition}
+{}  {\SentenceSpace \PrintReviews} {review}
}

\BibSpec{collection.article}{ % article in book with innerbook formatting
+{}  { \PrintAuthors}               {author}
+{,} { \textit}                     {title}
+{.} { }                            {part}
+{:} { \textit}                     {subtitle}
+{,} { \PrintContributions}         {contribution}
+{,} { \PrintConference}            {conference}
+{}  { \PrintBook}                  {book}
+{,} { }                            {booktitle}
+{,} { \PrintEdition}               {edition}
+{}  { \PrintEditorsB}              {editor}
+{,} { \PrintTranslatorsC}          {translator}
+{,} { \PrintContributions}         {contribution}
+{,} { }                            {series}
+{,} { \voltext}                    {volume}
+{,} { }                            {publisher}
+{,} { }                            {organization}
+{,} { }                            {address}
+{,} { \PrintDateB}                 {date}
+{,} { pp.~}                        {pages}
+{,} { }                            {status}
+{,} { \PrintDOI}                   {doi}
+{,} { available at \eprint}        {eprint}
+{}  { \parenthesize}               {language}
+{}  { \PrintTranslation}           {translation}
+{;} { \PrintReprint}               {reprint}
+{.} { }                            {note}
+{.} {}                             {transition}
+{}  {\SentenceSpace \PrintReviews} {review}
}

\ifx\BibCommonsStandalone\undefined
  \newcommand{\bibmain}{\bibliography{\bibcommonspath main}}
\else
  % we will use an existing .bbl file
  \newcommand{\bibmain}{\@input@{\jobname.bbl}}
\fi
